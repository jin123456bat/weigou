!function(a,b){"function"==typeof define&&define.cmd?define("../dist/build-debug",[],function(c,d,e){e.exports=b(a,!0)}):b(a)}(window,function(a,b){function c(a){var b=!!a&&"length"in a&&a.length,c=O.type(a);return"function"!==c&&!O.isWindow(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}function d(){}function e(a){var b,c,d="",e=(a.tag||"div").toLocaleUpperCase();if(O.inArray(e,["IFRAME","FORM","INPUT","SELECT","TEXTAREA"])>-1)try{"FORM"===e&&(d=(a.method?' method="'+a.method+'"':"")+(a.enctype?' enctype="'+a.enctype+'"':"")),c="<"+e+' name="'+(a.name||O.randomChar(16,16))+'"'+d+"></"+e+">",b=M.createElement(c),delete a.name}catch(f){b=M.createElement(e)}else b="comment"===e?M.createComment(a.text||""):M.createElement(e);return!a||O.isEmptyObject(a)?b:(O.each(a,function(a,c){try{switch(a){case"css":case"style":b.style.cssText=c;break;case"innerHTML":case"html":b.innerHTML=c;break;case"className":case"class":b.className=c;break;case"text":b.textContent=c;break;default:b.setAttribute(a,c)}}catch(d){O.error("object2Elmenet:"+O.JSON.stringify(a),d)}}),b)}function f(a,b){var c=/^<(\w+)\s*\/?>(?:<\/\1>|)$/;if(!a||"string"!==O.type(a))return null;b=b||M;var d=c.exec(a);if(d)return[b.createElement(d[1])];if(/<|&#?\w+;/.test(a)){var e=b.createElement("div");return e.innerHTML=a,O.merge([],e.childNodes)}return[b.createTextNode(a)]}function g(a,b){return O.nodeName(a,"table")&&O.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function h(a,b,c){for(var d,e,f,g,h=null,i=[],j=0,k=a.length,l=b.createDocumentFragment();j<k;j++)if(d=a[j],d||0===d)if("object"===O.type(d))O.merge(i,d.nodeType?[d]:d);else if(Z.test(d)){for(h=h||l.appendChild(b.createElement("div")),e=($.exec(d)||["",""])[1].toLowerCase(),f=W[e]||W._default,h.innerHTML=f[1]+O.htmlPrefilter(d)+f[2],g=f[0];g--;)h=h.lastChild;O.merge(i,h.childNodes),h=l.firstChild,h.textContent=""}else i.push(b.createTextNode(d));for(l.textContent="",j=0;d=i[j++];)c&&O.inArray(d,c)>-1||(h=V(l.appendChild(d),"script"));return l}function i(a,b,c){b=G.apply([],b);var d,e,f,g=a.length,j=0,k=b[0],l=O.isFunction(k);if(l||g>1&&"string"==typeof k&&_.test(k))return a.each(function(d){var e=a[d];l&&(b[0]=k.call(this,d,e.html())),i(e,b,c)});if(g){if(d=h(b,a[0].ownerDocument,a),e=d.firstChild,1===d.childNodes.length&&(d=e),e)for(;j<g;j++)f=d,c.call(a[j],f,j);return a}}function j(b){if(b.currentStyle)return b.currentStyle;var c=b.ownerDocument?b.ownerDocument.defaultView:b.defaultView;return b=b===M?M.documentElement||M.body:b,c&&c.opener||(c=a),c.getComputedStyle(b,null)}function k(a,b,c){var d,e=a.style;return c=c||j(a),c&&c.getPropertyValue?d=c.getPropertyValue(b):c&&c[b]&&(d=c[b]),""!==d&&void 0!==d||(d=e[b]),void 0!==d?d+"":d}function l(a){if(a in ea)return a;for(var b=a[0].toUpperCase()+a.slice(1),c=da.length;c--;)if(a=da[c]+b,a in ea)return a}function m(a,b){var c,d="width"===b?a.offsetWidth:a.offsetHeight;if(b=b.substr(0,1).toUpperCase()+b.substr(1),O.isWindow(a))d=Math.max(O["scroll"+b],O["client"+b]);else{if(9===a.nodeType){var e=a.documentElement;return Math.max(a.body["scroll"+b],e["scroll"+b],a.body["offset"+b],e["offset"+b],e["client"+b])}c=j(a)}if(d<=0||null==d){if(d=k(a,b,c),(d<0||null==d)&&(d=a.style[b]),ba.test(d))return d;d=parseFloat(d)||0}return d}function n(b){return b===a?"theWindow":b===document?"theDocument":O(b).attr("uniqueID")}function o(a){return function(b){var c=b.relatedTarget;this===c||p(this,c)||a.call(this,b)}}function p(a,b){if(a===b)return!1;for(;b&&b!==a;)b=b.parentNode;return b===a}function q(b){if(b&&b.target)return b;var c=M.documentElement.scrollLeft||a.pageXOffset,d=M.documentElement.scrollTop||a.pageYOffset;switch(b=b||a.event,b.pageX=b.clientX+Math.max(c,M.body.scrollLeft||0),b.pageY=b.clientY+Math.max(d,M.body.scrollTop||0),b.target=b.srcElement,b.stopPropagation=r,b.preventDefault=s,b.type){case"mouseOut":b.relatedTarget=b.toElement;break;case"mouseOver":b.relatedTarget=b.fromElement}return b}function r(){this.cancelBubble=!0}function s(){this.returnValue=!1}function t(a,b){if(a){if(M.createEvent){var c=M.createEvent("HTMLEvents");c.initEvent(b,!0,!0);try{a.dispatchEvent(c)}catch(d){O.log("event.fireEvent:",d)}}else M.createEventObject&&a.fireEvent("on"+b);return!0}}function u(a){return la.raw?a:encodeURIComponent(a)}function v(a){return la.raw?a:decodeURIComponent(a)}function w(a){return u(la.json?JSON.stringify(a):String(a))}function x(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(ka," ")),la.json?JSON.parse(a):a}catch(b){}}function y(a,b){var c=la.raw?a:x(a);return O.isFunction(b)?b(c):c}function z(a,b,c,d){var e=M.createElement("script");c&&(e.charset=c),A(e,b,a),void 0===d&&(d=!0),e.async=d,e.src=a,oa?ma.insertBefore(e,oa):ma.appendChild(e)}function A(a,b,c){function d(d){a.onload=a.onerror=a.onreadystatechange=null,O.debug||ma.removeChild(a),a=null,b({event:d,url:c})}var e="onload"in a;e?(a.onload=d,a.onerror=function(a){O.log("addOnload:",a),d(!0)}):a.onreadystatechange=function(){/loaded|complete/.test(a.readyState)&&d()}}function B(a){var b=O.Cookie.get("clientId");"undefined"!==O.type(b)?a(b):O.require(O.baseURI+"util/guid"+(O.debug?"-debug":"")+".js?_v="+O.global.ReleaseVersion,function(){(new HLFGUID).get(a)},"utf-8")}var C,D="0.0.1",E=[],F=E.slice,G=E.concat,H=E.push,I=E.indexOf,J={},K=J.toString,L=J.hasOwnProperty,M=a.document,N={},O=function(a,b){return new O.fn.init(a,b)};O.fn=O.prototype={hlf:D,constructor:O,selector:"",length:0,toArray:function(){return F.call(this)},get:function(a){return null===a?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a){var b=O.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},each:function(a,b){return O.each(this,a,b)},concat:G,push:H,indexOf:I},O.extend=O.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||O.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(a=arguments[h]))for(b in a)a.hasOwnProperty(b)&&(c=g[b],d=a[b],g!==d&&(j&&d&&(O.isPlainObject(d)||(e=O.isArray(d)))?(e?(e=!1,f=c&&O.isArray(c)?c:[]):f=c&&O.isPlainObject(c)?c:{},g[b]=O.extend(j,f,d)):void 0!==d&&(g[b]=d)));return g};var P=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Q=/^-ms-/,R=/-([\da-z])/gi,S=function(a,b){return b.toUpperCase()};O.extend({now:Date.now,ua:navigator.userAgent.toLowerCase(),support:N,isDefined:function(a){return"undefined"!=typeof a},isFunction:function(a){return"function"===O.type(a)},inArray:function(a,b,c){return null==b?-1:I.call(b,a,c)},isArray:function(a){return O.isFunction(Array.isArray)?Array.isArray(a):"[object Array]"===Object.prototype.toString.call(a)},isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!O.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;return"object"===O.type(a)&&!a.nodeType&&!O.isWindow(a)&&(!(a.constructor&&!L.call(a,"constructor")&&!L.call(a.constructor.prototype||{},"isPrototypeOf"))&&(void 0===b||L.call(a,b)))},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?J[K.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=O.trim(a),a&&(1===a.indexOf("use strict")?(b=M.createElement("script"),b.text=a,M.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(Q,"ms-").replace(R,S)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];return a.length=e,a},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?this.merge(d,"string"==typeof a?[a]:a):H.call(d,a)),d},trim:function(a){return null==a?"":(a+"").replace(P,"")},formatDate:function(a,b){var c,d;this.isNumeric(a)?c=new Date(a):"string"==typeof a?(c=new Date,b=a):c=new Date,b=b||"yyyy/MM/dd HH:mm:ss",d={"M+":c.getMonth()+1,"d+":c.getDate(),"h+":c.getHours()%12===0?12:c.getHours()%12,"H+":c.getHours(),"m+":c.getMinutes(),"s+":c.getSeconds(),"q+":Math.floor((c.getMonth()+3)/3),"S+":c.getMilliseconds()},/(y+)/i.test(b)&&(b=b.replace(RegExp.$1,(c.getFullYear()+"").substr(4-RegExp.$1.length)));for(var e in d)d.hasOwnProperty(e)&&new RegExp("("+e+")").test(b)&&(b="S"===RegExp.$1?b.replace(RegExp.$1,("00"+d[e]).substr(3)):b.replace(RegExp.$1,1===RegExp.$1.length?d[e]:("00"+d[e]).substr((""+d[e]).length)));return b},randomChar:function(a,b){for(var c="",d=a||8,e=10===b?"0123456789":"0123456789ABCDEF",f=0;f<d;f++)c+=e.charAt(Math.round(Math.random()*(e.length-1)));return c},validate:function(a,b){var c;for(c in a)if(a.hasOwnProperty(c)){if(!b.hasOwnProperty(c)){var d="Unknown property, "+c+". Valid properties are:";for(c in b)b.hasOwnProperty(c)&&(d=d+" "+c);throw new Error(d)}if(typeof a[c]!==b[c])throw new Error("Invalid type "+typeof a[c]+" for "+c+".")}},each:function(a,b,d){var e,f=0;if("function"!=typeof b)return a;if(c(a))for(e=a.length;f<e&&b.apply(a[f],[f,a[f++]].concat(d))!==!1;);else if("object"===O.type(a)){for(var g in a)if(a.hasOwnProperty(g)&&b.apply(a[g],[g,a[g]].concat(d))===!1)break}else b.apply(a,[0,a].concat(d));return a},contains:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1}}),O.fn.extend({find:function(a){var b=this.constructor.selector.query(a,this);return this.pushStack(b)}});var T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;O.fn.init=function(a,b,c){var d,g;return a?(c=c||C,"string"==typeof a?(d="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:T.exec(a),!d||!d[1]&&b?!b||b.hly?(b||c).find(a):this.constructor(b).find(a):d[1]?(b=b instanceof O?b[0]:b,O.merge(this,f(d[1],b&&b.nodeType?b.ownerDocument||b:M,!0)),this):(g=M.getElementById(d[2]),g&&g.parentNode&&(this.length=1,this[0]=g),this.context=M,this.selector=a,this)):a.nodeType||O.isWindow(a)?(this.context=this[0]=a,this.length=1,this):"object"==typeof a&&a.hly?(a.length&&(this.context=this[0]=a[0],this.length=1),this):O.isPlainObject(a)?(this.context=this[0]=e(a),this.length=1,this):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),O.makeArray(this,[a]))):this};O.fn.init.prototype=O.fn,C=O(M);var U=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===O.type(c)){e=!0;for(h in c)U(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,O.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(O(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};"function"==typeof define&&define.amd&&define("hlf",[],function(){return O}),b!==!0&&(a.HLF=O);var V=(O.selector={tagGuid:1,attrMap:{"class":"className","for":"htmlFor"},rex:{R_RULE:/[ +>~]/g,NR_RULE:/[^ +>~]+/g,TRIM_LR:/^ +| +$/g,TRIM_ALL:/ *([ +>~,]) */g,PSEU_PARAM:/\([^()]+\)/g,ATTR_PARAM:/[^\[]+(?=])/g,ATTR:/=|!=|\^=|\$=|\*=|~=|\|=/,CLS:/\./g,PSEU:/[^:]+/g,NUM:/\d+/,NTH:/(-?\d*)n([+-]?\d*)/,RULES:/((?:#.+)*)([a-zA-Z1-6*]*)([^\[:]*)((?:\[.+])*)((?::.+)*)/},query:function(a,b){if("undefined"==typeof a||!a)return[];var c,d,e,f,g,h,i,j=[];switch(typeof b){case"undefined":d=[document];break;case"string":a=b+" "+a,d=[document];break;case"object":d=b.nodeType?[b]:b}for(c=this.format(a),b=d,f=0,g=c.length;f<g;f++){for(a=c[f],e=(" "+a).match(this.rex.R_RULE),a=a.match(this.rex.NR_RULE),d=b,h=0,i=e.length;h<i;h++)d=this.parse(a[h],d,e[h]);j=j.concat(d)}return g>1?this.makeDiff(j):j},format:function(a){var b=[],c=[];this.pParams=b,this.attrParams=c,a=a.replace(this.rex.TRIM_LR,"").replace(this.rex.TRIM_ALL,"$1").replace(this.rex.ATTR_PARAM,function(a){return c.push(a)-1});for(var d=function(a){return b.push(a.substring(1,a.length-1))-1};a.indexOf("(")!==-1;)a=a.replace(this.rex.PSEU_PARAM,d);return a.split(",")},parse:function(a,b,c){var d,e,f,g,h,i;return e=this.rex.RULES.exec(a),(f=e[1])?(f=document.getElementById(f.substring(1)))?[f]:[]:(d=O.selector.queryRelative[c](b,e[2]||"*",this),(g=e[3])&&(d=this.filterClass(d,g.replace(this.rex.CLS,""))),(h=e[4])&&(d=this.filterAttr(d,this.getAttrRules(h.match(this.rex.ATTR_PARAM),this.attrParams))),(i=e[5])&&(d=this.filterPseudo(d,this.getPseudoRules(i.match(this.rex.PSEU),this.pParams))),d)},getRules:function(a){var b,c,d;return b=this.rex.RULES.exec(a),b[2]||(b[2]="*"),b[3]=b[3].replace(this.rex.CLS,""),(c=b[4])&&(b[4]=this.getAttrRules(c.match(this.rex.ATTR_PARAM),this.attrParams)),(d=b[5])&&(b[5]=this.getPseudoRules(d.match(this.rex.PSEU),this.pParams)),b},getAttrRules:function(a,b){for(var c,d,e=[],f=a.length,g=this.rex.ATTR,h=0;h<f;h++)c=b[a[h]],d=c.match(g)||" ",c=c.split(g),e.push(O.selector.queryAttrs[d]),e.push(c);return e},getPseudoRules:function(a,b){for(var c,d,e,f=[],g=0,h=a.length,i=this.tagGuid++;g<h;g++){if(c=a[g],this.rex.NUM.test(c))switch(d=b[RegExp["$&"]],c=RegExp["$`"]){case"nth-child":if(this.rex.NTH.test("odd"===d&&"2n+1"||"even"===d&&"2n"||d)){if(d=RegExp.$1,d=""===d?1:"-"===d?-1:d,d=[i,!0,d,RegExp.$2],1===d[2]&&0===d[3])continue}else d=[i,!1,d];break;case"not":for(e=d.split(","),d=[];e.length;)d.push(this.getRules(e.pop()));break;case"contains":}f.push(O.selector.queryPseudos[c]),f.push(d)}return f},filterPseudo:function(a,b){for(var c,d,e,f,g=a.length,h=0,i=b.length,j=[];h<g;h++){for(d=a[h],c=0;c<i&&(e=b[c],f=b[c+1],e&&e(d,f,this));c+=2);c===i&&j.push(d)}return j},filterAttr:function(a,b){for(var c,d,e,f,g,h,i=a.length,j=0,k=b.length,l=[];j<i;j++){for(d=a[j],c=0;c<k&&(f=b[c],e=b[c+1],h=e[0],(g="href"===h?d.getAttribute(h):d.getAttribute(h))||(g=d[this.attrMap[h]||h]))&&f(g+"",e[1]);c+=2);c===k&&l.push(d)}return l},filterClass:function(a,b){for(var c,d,e,f=0,g=a.length,h=[];f<g;f++)e=a[f],"string"==typeof e.className&&(c=e.className,d=new RegExp(c.replace(" ","|"),"g"),b.replace(d,"")||h.push(e));return h},filterEl:function(a,b,c,d,e){return("*"===b||a.nodeName.toLowerCase()===b)&&(!(c&&!this.filterClass([a],c).length)&&(!(d&&!this.filterAttr([a],d).length)&&!(e&&!this.filterPseudo([a],e).length)))},makeDiff:function(a){for(var b,c,d=this.tagGuid++,e=a.length,f=[],g=0;g<e;g++)b=a[g],c=this.getElData(b),c.tagGuid!==d&&(f.push(b),c.tagGuid=d);return f},getElData:function(a){var b=a.mojoExpando;return b||(b=a.mojoExpando={mQuery:{tagGuid:0}}),(b=b.mQuery)||(b={tagGuid:0}),b},queryRelative:{" ":function(a,b,c){for(var d,e,f,g,h,i=c.tagGuid++,j=a.length,k=[],l=0;l<j;l++){if(g=a[l],h=g.parentNode){if(c.getElData(h).tagGuid===i)continue;c.getElData(g).tagGuid=i}for(f=g.getElementsByTagName(b)||null,d=0,e=f.length;d<e;d++)k.push(f[d])}return k},">":function(a,b){for(var c,d=[],e=a.length,f=0;f<e;f++)for(c=a[f].firstChild;c;)1===c.nodeType&&(c.nodeName.toLowerCase()!==b&&"*"!==b||d.push(c)),c=c.nextSibling;return d},"+":function(a,b){for(var c,d=[],e=a.length,f=0;f<e;f++)for(c=a[f];c=c.nextSibling;)if(1===c.nodeType){c.nodeName.toLowerCase()!==b&&"*"!==b||d.push(c);break}return d},"~":function(a,b,c){for(var d,e,f,g=c.tagGuid++,h=a.length,i=[],j=0;j<h;j++){if(d=a[j],e=d.parentNode){if((f=c.getElData(e)).tagGuid===g)continue;f.tagGuid=g}for(;d=d.nextSibling;)1===d.nodeType&&(d.nodeName.toLowerCase()!==b&&"*"!==b||i.push(d))}return i}},queryAttrs:{" ":function(){return!0},"=":function(a,b){return a===b},"!=":function(a,b){return a!==b},"^=":function(a,b){return 0===a.indexOf(b)},"$=":function(a,b){return a.substring(a.length-b.length)===b},"*=":function(a,b){return a.indexOf(b)!==-1},"~=":function(a,b){return(" "+a+" ").indexOf(" "+b+" ")!==-1},"|=":function(a,b){return a===b||a.substring(0,b.length+1)===b+"-"}},queryPseudos:{eq:function(a,b,c){var d,e,f,g,h;if((d=a.parentNode)&&(h=c.getElData(d)).tagGuid!==b){for(f=d.firstChild,g=1;f;)1===f.nodeType&&(c.getElData(f).nodeIndex=g++),f=f.nextSibling;h.tagGuid=b}return e=c.getElData(a).nodeIndex,e===b},lt:function(a,b,c){var d,e,f,g,h;if((d=a.parentNode)&&(h=c.getElData(d)).tagGuid!==b){for(f=d.firstChild,g=1;f;)1===f.nodeType&&(c.getElData(f).nodeIndex=g++),f=f.nextSibling;h.tagGuid=b}return e=c.getElData(a).nodeIndex,e<b},gt:function(a,b,c){var d,e,f,g,h;if((d=a.parentNode)&&(h=c.getElData(d)).tagGuid!==b){for(f=d.firstChild,g=1;f;)1===f.nodeType&&(c.getElData(f).nodeIndex=g++),f=f.nextSibling;h.tagGuid=b}return e=c.getElData(a).nodeIndex,e>b},"first-child":function(a){for(;a=a.previousSibling;)if(1===a.nodeType)return!1;return!0},"last-child":function(a){for(;a=a.nextSibling;)if(1===a.nodeType)return!1;return!0},"only-child":function(a){for(var b=a.nextSibling,c=a.previousSibling;b;){if(1===b.nodeType)return!1;b=b.nextSibling}for(;c;){if(1===c.nodeType)return!1;c=c.previousSibling}return!0},"nth-child":function(a,b,c){var d,e,f,g,h;if((d=a.parentNode)&&(h=c.getElData(d)).tagGuid!==b[0]){for(f=d.firstChild,g=1;f;)1===f.nodeType&&(c.getElData(f).nodeIndex=g++),f=f.nextSibling;h.tagGuid=b[0]}return e=c.getElData(a).nodeIndex,b[1]?(e-=b[3],b=b[2],e*b>=0&&e%b===0):e===b[2]},not:function(a,b,c){for(var d,e=0,f=b.length;e<f;e++){if(d=b[e],d[1]){if("#"+a.id!==d[1])continue;return!1}if(c.filterEl(a,d[2],d[3],d[4],d[5]))return!1}return!0},contains:function(a,b){return(a.textContent||a.innerText||"").indexOf(b)>-1},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},empty:function(a){return!a.firstChild}}},function(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&O.nodeName(a,b)?O.merge([a],c):c});O.extend({htmlPrefilter:function(a){return a.replace(Y,"<$1></$2>")}});var W={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};W.optgroup=W.option,W.tbody=W.tfoot=W.colgroup=W.caption=W.thead,W.th=W.td;var X=/<script|<style|<link/i,Y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Z=/<|&#?\w+;/,$=/<([\w:-]+)/,_=/checked\s*(?:[^=]|=\s*.checked.)/i;O.fn.extend({html:function(a){return U(this,function(a){var b=this[0]||{};if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"!=typeof a||X.test(a)||W[($.exec(a)||["",""])[1].toLowerCase()])try{b.innerHTML=a}catch(c){O.log("html:",c)}else a=O.htmlPrefilter(a),1===b.nodeType&&(b.innerHTML=a)},null,a,arguments.length)},appendTo:function(){var a=arguments[0]||M.body,b=this[0]||{};return a="string"===O.type(a.hlf)?a.get(0):a,a.appendChild(b),this},append:function(){return i(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=g(this,a);b.appendChild(a)}})},prepend:function(){return i(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=g(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return i(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return i(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(){return O.each(this,function(a,b){var c=!1;for(var d in b)if(1!==b.nodeType&&b.hasOwnProperty(d)&&"function"==typeof b[d])try{b[d]=null}catch(e){O.error("clear element func",e)}if(b.parentNode)try{b.parentNode.removeChild(b),c=!0}catch(f){O.error("removeChild",f)}if(!c){var g=M.createElement("div");try{g.appendChild(b),g.innerHTML=""}catch(h){O.error("remove html",h)}}})}});var aa=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ba=new RegExp("^("+aa+")(?!px)[a-z%]+$","i");O.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=k(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"}});var ca={letterSpacing:"0",fontWeight:"400"},da=["Webkit","O","Moz","ms"],ea=document.createElement("div").style;O.extend({css:function(a,b,c){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var d,e,f,g=O.camelCase(b),h=a.style;return b=O.cssProps[g]||(O.cssProps[g]=l(g)||g),f=O.cssHooks[b]||O.cssHooks[g],void 0===c?f&&"get"in f&&void 0!==(d=f.get(a,!1))?d:(c=k(a,b,c),"normal"===c&&b in ca&&(c=ca[b]),c):(e=typeof c,void(null!=c&&c===c&&(""===c&&0===b.indexOf("backgroup")&&(h[b]="inherit"),f&&"set"in f&&void 0===(c=f.set(a,c))||(h[b]=c))))}},offset:{setOffset:function(a,b){var c,d,e,f=k(a,"position"),g=O(a),h={};"static"===f&&(a.style.position="relative"),d=g.offset(),c=k(a,"top"),e=k(a,"left"),null!==b.top&&(h.top=b.top-d.top+(c||0)),null!==b.left&&(h.left=b.left-d.left+(e||0)),g.css(h)}}}),O.fn.extend({css:function(a,b){return U(this,O.css,a,b,arguments.length>1)},show:function(){return U(this,O.css,"display","block",arguments.length>1)},hidden:function(){return U(this,O.css,"display","none",arguments.length>1)},offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b,c){O.offset.setOffset(c,a,b)});var b,c=this[0],d={top:0,left:0},e=c&&c.ownerDocument;return O.isWindow(c)?{top:O.scrollTop(),left:O.scrollLeft()}:e?(b=e.documentElement,O.contains(b,c)?("undefined"!=typeof c.getBoundingClientRect&&(d=c.getBoundingClientRect()),{top:d.top+O.scrollTop()-b.clientTop,left:d.left+O.scrollLeft()-b.clientLeft}):d):d}});var fa=/^(none|table(?!-c[ea]).+)/,ga={position:"absolute",visibility:"hidden",display:"block"};O.swap=function(a,b,c,d){var e,f,g={};for(f in b)b.hasOwnProperty(f)&&(g[f]=a.style[f],a.style[f]=b[f]);e=c.apply(a,d||[]);for(f in b)b.hasOwnProperty(f)&&(a.style[f]=g[f]);return e},O.extend({clientWidth:function(){return"BackCompat"===document.compatMode?document.body.clientWidth:document.documentElement.clientWidth},clientHeight:function(){return"BackCompat"===document.compatMode?document.body.clientHeight:document.documentElement.clientHeight},scrollLeft:function(){return Math.max(document.documentElement.scrollLeft,document.body.scrollLeft)},scrollTop:function(a){return Math.max(document.documentElement.scrollTop,document.body.scrollTop)},scrollWidth:function(){return Math.max(document.documentElement.scrollWidth,document.body.scrollWidth)},scrollHeight:function(){return Math.max(document.documentElement.scrollHeight,document.body.scrollHeight)},attr:function(a,b,c){var d=a.nodeType;if(3!==d&&8!==d&&2!==d)return void 0===c?1!==a.nodeType||null!==c&&c!==!1?a.getAttribute(b):a.removeAttribute(b):a.setAttribute(b,c)},widthOrHeight:function(a,b,c){return fa.test(O.css(a,b))&&0===a.offsetWidth?O.swap(a,ga,function(){return m(a,b)}):m(a,b)}}),O.fn.extend({attr:function(a,b){return U(this,O.attr,a,b,arguments.length>1)},width:function(a){return U(this,O.widthOrHeight,"width",a,arguments.length>1)},height:function(a){return U(this,O.widthOrHeight,"height",a,arguments.length>1)},removeAttr:function(a){return this.each(function(){O.attr(this,a,!1)})},scrollLeft:function(){}});var ha,ia,ja=[];a.addEventListener?(ha=function(a,b,c,d){"mouseenter"===b?a.addEventListener("mouseover",o(c),d):"mouseleave"===b?a.addEventListener("mouseout",o(c),d):a.addEventListener(b,c,d)},ia=function(a,b,c,d){a.removeEventListener(b,c,d)}):(ha=function(b,c,d){var e="{FNKEY::obj_"+n(b)+"::evt_"+c+"::fn_"+d+"}",f=ja[e];"undefined"==typeof f&&(f=function(a){d.call(b,a)},ja[e]=f,b.attachEvent("on"+c,f),a.attachEvent("onunload",function(){try{b.detachEvent("on"+c,f)}catch(a){O.log("addEvent:",a)}}),e=null)},ia=function(a,b,c){var d="{FNKEY::obj_"+n(a)+"::evt_"+b+"::fn_"+c+"}",e=ja[d];"undefined"!=typeof e&&(a.detachEvent("on"+b,e),delete ja[d]),d=null}),O.Event={addEvent:ha,removeEvent:ia,fixEvent:q,fireEvent:t},O.fn.extend({bind:function(a,b){return U(this,O.Event.addEvent,a,b)},unbind:function(a,b){return U(this,O.Event.removeEvent,a,b)}}),O.Class={create:function(){return function(){this.initialize.apply(this,arguments)}}},O.Cookie={};var ka=/\+/g,la={raw:!0,json:!1,path:"",secure:""};O.Cookie.set=function(a,b,c){if(void 0!==b&&!O.isFunction(b)){if(c=O.extend({},la,c),"number"==typeof c.expires){var d=c.expires,e=c.expires=new Date;e.setTime(+e+864e5*d)}return M.cookie=[u(a),"=",w(b),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}return M.cookie},O.Cookie.get=function(a){for(var b=a?void 0:{},c=M.cookie?M.cookie.split("; "):[],d=0,e=c.length;d<e;d++){var f=c[d].split("="),g=v(f.shift()),h=f.join("=");if(a&&a===g){b=y(h);break}a||void 0===(h=y(h))||(b[g]=h)}return b},O.Cookie.remove=function(a,b){return void 0!==O.cookie(a)&&(O.cookie(a,"",O.extend({},b,{expires:-1})),!O.cookie(a))};var ma=M.head||M.getElementsByTagName("head")[0]||M.documentElement,na=O.loadedFiles={},oa=ma.getElementsByTagName("base")[0];O.require=function(a,b,c,d){a=O.isArray(a)?a:[a];var e=function(c){if(c.url&&void 0!==na[c.url]){var d=c.status===!0?"ERROR":"LOADED";na[c.url].status=d,O.log(c.url+"->"+d)}else O.log("require callback",c);for(var e=!0,f=0,g=a.length;f<g;f++)"LOADING"===na[a[f]].status&&(e=!1);e===!0&&"function"==typeof b&&b()};O.each(a,function(a,b){na[b]={status:"LOADING"},z(b,e,c,d)})};var pa=O.Icon=function(a){this._init(a)};pa.prototype.constructor=pa,pa.prototype._def={type:"",content:"",onMouseEvent:d},pa.prototype.name="Icon",pa.prototype.options=null,pa.prototype._created=!1,pa.prototype.element=null,pa.prototype._init=function(b){var c=this,d=function(){c.options.onMouseEvent.apply(a,arguments)};if(this.options=O.extend({},this._def,b),O.validate(this.options,{type:"string",width:"number",height:"number",content:"string",selector:"string",onMouseEvent:"function"}),!/image|html/gi.test(this.options.type))return O.error("Entry icon type only supports image|html",this.options.type),!1;if(!this._created)if("image"===this.options.type)this.element=this._create();else{if(this.element=O(this.options.selector),0===this.element.length)return O.error(),!1;this.element.css({overflow:"hidden",width:this.options.width+"px",height:this.options.height+"px"}).html(this.options.content)}O.debug&&this.element.css({background:"#fafafa",outline:"1px solid #f00"}),O.iconbindmouseEvent=function(){c.element.bind("mouseover",d).bind("mousedown",d).bind("mouseup",d).bind("click",d).bind("mouseout",d)},O.iconUnbindmouseEvent=function(){c.element.unbind("mouseover",d).unbind("mousedown",d).unbind("mouseup",d).unbind("click",d).unbind("mouseout",d)},O.iconbindmouseEvent(),this.element.css("display","inline-block")},pa.prototype._create=function(){var a=this.options.selector&&O(this.options.selector).length?O(this.options.selector):M.body,b=qa+"width:"+this.options.width+"px;height:"+this.options.height+"px;overflow:hidden;",c=O('<div class="ui-hlf-entrance" data-type="create" style="'+b+'display: none;"></div>').appendTo(a),d=['<img width="'+this.options.width+'" height="'+this.options.height+'" src="'+this.options.content+'" />'].join("");return c.html(d),this._created=!0,c};var qa="margin:0;padding:0;border:none;float:none;width:auto;height:auto;min-width:none;min-height:none;max-width:none;max-height:none;clear:none;position:static;left:auto;top:auto;right:auto;bottom:auto;text-align:left;box-sizing:content-box;color:#000;background-color:transparent;font:normal normal normal 12px/160% Arial,Microsoft YaHei;",ra=O.Dialog=function(a){this._init(a)};ra.prototype.constructor=ra,ra.prototype._def={mask:!0,width:500,height:320,relative:""},ra.prototype.name="Dialog",ra.prototype.options=null,ra.prototype.bgElement=null,ra.prototype.containElement=null,ra.prototype.conElement=null,ra.prototype.ifrElement=null,ra.prototype.closeElement=null,ra.prototype.isRelative=!1,ra.prototype.onClose=d(),ra.prototype.onMouseOut=d(),ra.prototype.onMouseOver=d(),ra.prototype.onLoad=d(),ra.prototype._init=function(a){this.options=O.extend({},this._def,a),O.validate(this.options,{mask:"boolean",width:"number",height:"number",relative:"string",position:"string",borderColor:"string",backgroundButton:"number",dialogWidth:"number",dialogHeight:"number",payOrderStatus:"number",payOrderWidth:"number",payOrderHeight:"number"}),this.checkColor(this.options.borderColor)||(O.log("Color value error"+this.options.borderColor+", set default color:CCCCCC"),this.options.borderColor="CCCCCC"),this.onMouseOver=d,this.onMouseOut=d,this.onClose=d,(""!==this.options.relative||O(this.options.relative).length)&&(this.options.mask=!1,this.isRelative=!0),1===this.options.payOrderStatus&&(this.options.mask=!1),ua&&(this.options.width=O.clientWidth(),this.options.height=.8*O.clientHeight(),this.options.top=.2*O.clientHeight()+O.scrollTop(document.body),this.options.borderColor="",this.options.position="",this.options.mask=!0,this.isRelative=!1,this.options.selector=""),this.relative=O(this.options.relative),this._create(),this._resetPosition()},ra.prototype.checkColor=function(a){return/^[a-z 0-9]{6}$/gi.test(a)},ra.prototype.show=function(a){this.bgElement&&this.bgElement.show(),this.conElement.html(a),this.containElement.show(),this.options.mask&&this.bgElement.show(),this.fixedDialog(!0)},ra.prototype.open=function(a){ua?this.ifrElement=O('<iframe class="ui-hlf-dialog-iframe" name="ui-hlf-dialog-iframe" scrolling="yes" frameborder="0" style="'+qa+'z-index:10000;background: #fff;width:100%;height:100%;"></iframe>').appendTo(this.conElement):this.ifrElement=O('<iframe class="ui-hlf-dialog-iframe" name="ui-hlf-dialog-iframe" scrolling="no" frameborder="0" style="'+qa+'z-index:10000;background: #fff;width:100%;height:100%;"></iframe>').appendTo(this.conElement);var b=this;this.ifrElement.attr("src",a),this.ifrElement.bind("load",function(a){b._load(a)}),this.containElement.show(),this.options.mask&&this.bgElement.show(),this.fixedDialog(!0)},ra.prototype.fixedDialog=function(a){var b,c,d;ua&&(a===!0?(b=document.body.style.width,c=document.body.style.height,d=document.body.style.overflow,b&&this.containElement.attr("data-style-width",b),c&&this.containElement.attr("data-style-height",c),d&&this.containElement.attr("data-style-overflow",d),O(document.body).css({width:"100%",height:"100%",overflow:"hidden"}),O(document.documentElement).css({width:"100%",height:"100%",overflow:"hidden"})):(b=this.containElement.attr("data-style-width"),c=this.containElement.attr("data-style-height"),d=this.containElement.attr("data-style-overflow"),document.body.style.width=b||"auto",document.body.style.height=c||"auto",document.body.style.overflow=d||"auto"))},ra.prototype.close=function(){O.log("Dialog.close"),this.bgElement&&this.bgElement.hidden().remove(),this.fixedDialog(!1),this.containElement.hidden().remove(),"function"==typeof this.onClose&&this.onClose()},ra.prototype._load=function(a){O.log("Dialog.load"),"function"==typeof this.onLoad&&this.onLoad(a)},ra.prototype._getStyle=function(){return{width:O.clientWidth()-parseInt(O(M.body).css("margin-left"),10)-parseInt(O(M.body).css("margin-right"),10),height:O.clientHeight()-parseInt(O(M.body).css("margin-top"),10)-parseInt(O(M.body).css("margin-bottom"),10)}},ra.prototype._create=function(){var b=this.options.borderColor;1===this.options.payOrderStatus?this.containElement=O('<div class="ui-hlf-dialog-containter" style="'+qa+'display:none;z-index:10000;position: absolute;background:none;left:-9999px;top:-9999px;overflow: hidden;opacity: 0"></div>').appendTo():this.containElement=O('<div class="ui-hlf-dialog-containter" style="'+qa+'display:none;z-index:10000;position: absolute;background:none;left:-9999px;top:-9999px;overflow: hidden;"></div>').appendTo(),this.isRelative&&(this.arrowElement=O('<div class="ui-hlf-dialog-arrow" style="'+qa+'z-index:10000;position: absolute;background:none;width:20px;height:40px;font-size:0;left:0;top:15px;background:url(http://cdn.youhui3.cn/huilifang/dist/close.gif);background-position:-68px top;"></div>').appendTo(this.containElement)),this.conElement=O('<div class="ui-hlf-dialog-content" style="'+qa+"z-index:10000;position: absolute;background: #fff;left:20px;top:0;border:1px solid #"+b+';"></div>').appendTo(this.containElement),
1===this.options.backgroundButton?this.closeBackgruntButton():this.closeButton(),this.options.mask&&(this.bgElement=O('<div class="ui-hlf-dialog-background" style="'+qa+'display:none;z-index:9999;opacity:0.5;*opacity:50;filter: alpha(opacity=50);width:100%;height:100%;background: #000;position:absolute;left:-9999px;top:-9999px;"></div>').appendTo());var c=this;this.closeElement.bind("click",function(a){c.close(a),"icon"===O.data.action&&(O.iconUnbindmouseEvent(),setTimeout(function(){O.iconbindmouseEvent()},500))}),this.closeElement.bind("mouseover",function(a){"icon"===O.data.action&&c.close(a);try{clearTimeout(ta)}catch(b){}try{clearTimeout(sa)}catch(b){}}),this.conElement.bind("mouseover",function(a){try{clearTimeout(ta)}catch(b){}try{clearTimeout(sa)}catch(b){}a=O.Event.fixEvent(a),c.onMouseOver(a)}),this.conElement.bind("mouseout",function(a){"icon"===O.data.action&&(ta=setTimeout(function(){c.close(a)},500)),"icon"===O.data.action&&(O.iconUnbindmouseEvent(),setTimeout(function(){O.iconbindmouseEvent()},500)),a=O.Event.fixEvent(a),c.timeID=setTimeout(function(){c.onMouseOut(a)},50)}),O(a).bind("resize",function(a){c._resetPosition(a)})},ra.prototype.closeButton=function(){var a=this;7===O.data.pageType?this.closeElement=O('<div class="ui-hlf-dialog-close" style="'+qa+'width:32px;height:32px;z-index:10001;position:absolute;right:3px;top:2px;cursor:pointer;text-align: center;color:#fff;background-image:url(http://cdn.youhui3.cn/huilifang/dist/close.gif);background-position:-40px top;"></div>').appendTo(this.containElement):this.closeElement=O('<div class="ui-hlf-dialog-close" style="'+qa+'width:32px;height:32px;z-index:10001;position:absolute;right:3px;top:2px;cursor:pointer;text-align: center;color:#fff;background-image:url(http://cdn.youhui3.cn/huilifang/dist/close.gif);background-position:-40px top;"></div>').appendTo(this.containElement),ua&&(this.closeElement=O('<div class="ui-hlf-dialog-close" style="'+qa+'width:32px;height:32px;z-index:10001;position:absolute;right:3px;top:2px;cursor:pointer;text-align: center;color:#fff;background-image:url(http://cdn.youhui3.cn/huilifang/dist/close.gif);background-position:-40px bottom;"></div>').appendTo(this.containElement)),this.closeElement.bind("mouseover",function(){clearTimeout(a.timeID),O(".ui-hlf-dialog-close").css("background-position","-40px bottom")}).bind("mouseout",function(){O(".ui-hlf-dialog-close").css("background-position","-40px top")})},ra.prototype.closeBackgruntButton=function(){var a=this;this.options.borderColor;this.closeElement=O('<div class="ui-hlf-dialog-close" style="'+qa+'width:32px;height:32px;z-index:10001;position:absolute;right:3px;top:2px;cursor:pointer;text-align: center;color:#fff;background-image:url(http://cdn.youhui3.cn/huilifang/dist/close.gif);background-position:top left;"></div>').appendTo(this.containElement),this.closeElement.bind("mouseover",function(){clearTimeout(a.timeID),O(".ui-hlf-dialog-close").css("background-position","left bottom")}).bind("mouseout",function(){O(".ui-hlf-dialog-close").css("background-position","left top")})},ra.prototype._resetPosition=function(){var a,b,c,d,e={},f=O.clientWidth(),g=O.clientHeight();this.bgElement&&(e={width:f+"px",height:g+"px",left:"0",top:"0"},this.bgElement.css(e)),this.isRelative?(c=this.relative.offset(),d=this._getDirection(),"bottom"===d?(a=Math.max(c.left,0),b=Math.max(c.top+this.relative.height(),0),this._setBottom(a,b)):this._setAuto(d)):(1===this.options.payOrderStatus?this.conElement.css({width:this.options.width-2+"px",height:this.options.height-2+"px",left:"0",bottom:"0"}):this.conElement.css({width:this.options.width-2+"px",height:this.options.height-2+"px",left:"0",top:"0"}),b=ua?this.options.top:(g-this.options.height)/2,this.containElement.attr("isRelative","0").css({width:this.options.width+"px",height:this.options.height+"px",left:(f-this.options.width)/2+"px",top:b+"px"}),1===this.options.payOrderStatus&&this.containElement.css({bottom:"0px",top:"auto"}))},ra.prototype._setBottom=function(a,b){this.arrowElement.css({top:"0px",left:"1px",right:"auto",background:"transparent","border-color":"transparent","border-bottom-color":"#ccc"}),this.closeElement.css({right:"5px",top:"25px"}),this.conElement.css({width:this.options.width-2+"px",height:this.options.height-22+"px",left:"0px",top:"20px"}),this.containElement.attr("isRelative","1").css({width:this.options.width+"px",height:this.options.height+"px",left:a+"px",top:b+"px"})},ra.prototype._setAuto=function(a){var b,c,d=this.relative.offset();"right"===a?(b=Math.max(d.left-this.options.width,0),this.arrowElement.css({left:"auto",right:"1px",background:"transparent","border-color":"transparent","border-left-color":"#ccc"}),this.closeElement.css("right","25px")):b=Math.max(d.left+this.relative.width(),0),c=Math.max(d.top+this.relative.height()/2-30,0),this.conElement.css({width:this.options.width-22+"px",height:this.options.height-2+"px",left:"left"===a?"20px":"0px",top:"0px"}),this.containElement.attr("isRelative","1").css({width:this.options.width+"px",height:this.options.height+"px",left:b+"px",top:c+"px"})},ra.prototype._getDirection=function(){var a,b,c=this.relative.offset();return"bottom"===this.options.position?b="bottom":(a=Math.max(c.left+this.relative.width(),0),a+=this.options.width,a>O.clientWidth()?b="right":(a=Math.max(c.left,0)+this.relative.width(),b=a>0?"left":"right")),O.log("dialog direction:"+b),b},O.global={ReleaseVersion:20160726,ServerUrl:"//put.youhui3.cn/index.php?r=",icon:"put/show-entry&act=geticon&",coupon:"put/show-promotion-page&act=page&",isGiftSelect:"put/is-select-gift&",postOrderInfo:"stat/giftorder-data-update"},O.CONST_DIALOG=[{width:521,height:421},null,null,{width:574,height:414},{width:428,height:418},{width:423,height:150},null,{width:596,height:502},{width:423,height:414}],O.CONST_PAGE={HOME:1,LIST:2,GOODS:3,CART:4,ORDER_FORM:5,ORDER_SUBMIT:6,ORDER_COMPLETE:7,ORDER_SHOW:8};var sa,ta,ua=/mobile|android|iphone|ipad|ipod/i.test(O.ua);O.extend({dialog:null,dialogOptions:null,timeID:null,init:function(a){var b=this,c=function(){return O.log("loaded json.js"),b._execInit(a)};return O.baseURI=O("[data-baseuri]").attr("data-baseuri")||"","object"==typeof JSON?(O.JSON=JSON,this._execInit(a)):void O.require(O.baseURI+"util/json.js?_v="+O.global.ReleaseVersion,c)},_execInit:function(b){var c,d=this,e={merId:"",pageType:0,token:"",time:"0",selector:"",userId:"",goodsId:"",goodsName:"",categoryId:"",categoryName:"",orderAddress:"",orderTelphone:"",orderUserNick:"",orderMailCode:0,orderStatus:0,orderNum:"",orderPrice:0,isExGoodsCar:0,iconUrl:"",width:0,height:0,borderColor:"",isIconPreview:0,isPreview:0,dialogWidth:0,dialogHeight:0,payOrderStatus:0,payOrderWidth:0,payOrderHeight:0},f=O.extend({},e,b);return!!this.verificationPublic(f)&&(O.log("verificationPublic ok"),!(f.pageType===O.CONST_PAGE.ORDER_FORM&&!this.verificationOrderForm(f))&&(!(f.pageType===O.CONST_PAGE.ORDER_COMPLETE&&!this.verificationOrderComplete(f))&&(""!==O.baseURI&&O.baseURI?(B(function(b){if(O.Cookie.set("clientId",b),f.clientId=b,c=ua||3!==f.pageType?0:1,O.data=O.extend(O.data,f),O.log("init params:",O.data),d.listener(),O.data.pageType>=4){O.isGiftSelect();var e=a.localStorage.getItem("orderLocalInfo");null!=e&&(O.postOrderInfo(e,!0),localStorage.removeItem("orderLocalInfo"))}O.requestIconInfo(O.data,function(a){a=O.extend(a,{backgroundButton:c}),O._initDialogOptions(a,f.pageType),"dialog"===a.action?d._createDialog(null,{relative:"",payOrderStatus:a.payOrderStatus,payOrderWidth:a.payOrderWidth,payOrderHeight:a.payOrderHeight}):d._createIcon(a)})}),!0):(O.error("data-baseuri attr is null"),!1))))},listener:function(){var a=new O.PostMessage(function(b){if("getdata"===b){var c={title:document.title,url:location.href,orderAddress:O.data.orderAddress,orderTelphone:O.data.orderTelphone,orderUserNick:O.data.orderUserNick,orderMailCode:O.data.orderMailCode,orderStatus:O.data.orderStatus,orderNum:O.data.orderNum,orderPrice:O.data.orderPrice};a.send(c)}else"closedialog"===b&&null!==this.dialog&&(this.dialog.close(),O.log("call main function dialog.close()"))})},requestIconInfo:function(b,c){var d={merId:b.merId,clientId:b.clientId,userId:b.userId,pageType:b.pageType,time:b.time,iconUrl:b.iconUrl,width:b.width,height:b.height,borderColor:b.borderColor,isIconPreview:b.isIconPreview,type:"jsonp",callback:"_callback"},e=O.global.ServerUrl+O.global.icon+O.json2Raw(d);a._callback=function(b){return O.log("request icon attr complete:",b),1===b.error?(O.error("Server response anomaly:",b.desc),!1):void c.apply(a,[b])},O.log("request icon attr start:",d),O.require(e,function(){O.log("request icon complete")},"utf-8")},verificationPublic:function(a){return O.validate(a,{merId:"string",pageType:"number",token:"string",time:"string",selector:"string",userId:"string",goodsId:"string",goodsName:"string",categoryId:"string",categoryName:"string",orderAddress:"string",orderTelphone:"string",orderUserNick:"string",orderMailCode:"number",orderStatus:"number",orderNum:"string",orderPrice:"number",isExGoodsCar:"number",iconUrl:"string",width:"number",height:"number",borderColor:"string",isIconPreview:"number",isPreview:"number",dialogWidth:"number",dialogHeight:"number",payOrderStatus:"number",payOrderWidth:"number",payOrderHeight:"number"}),a.merId?a.pageType?a.token?!!a.time||(O.error("Must fill in the transfer parameters time"),!1):(O.error("Must fill in the transfer parameters token"),!1):(O.error("Must fill in the transfer parameters pageType"),!1):(O.error("Must fill in the transfer parameters merId"),!1)},verificationOrderComplete:function(a){return!0},verificationOrderForm:function(a){return!0},_initDialogOptions:function(b,c){if(4===c&&a.localStorage.setItem("GoodsCarpageType",c),7===c&&localStorage.removeItem("GoodsCarpageType"),5===c){var d=a.localStorage.getItem("GoodsCarpageType");null===d&&(c=4)}var e=O.CONST_DIALOG[c];return this.dialogOptions={action:b.action||"icon",position:b.position||"auto",borderColor:b.borderColor||"CCCCCC",backgroundButton:b.backgroundButton,width:e.width,height:e.height},this.dialogOptions},_createIcon:function(a){var b,c,d=this;c=function(b){b=O.Event.fixEvent(b);var c=a.relativeSelecter||".ui-hlf-entrance";if("mouseover"===b.type){try{clearTimeout(ta)}catch(e){}try{clearTimeout(sa)}catch(e){}d._createDialog(b,{relative:c,position:a.position,dialogWidth:a.dialogWidth,dialogHeight:a.dialogHeight})}"mouseout"===b.type&&("icon"===a.action?(sa=setTimeout(function(){O._closeDialog(b)},2e3),O.data.action="icon"):O.data.action="dialog")},b={type:a.type,width:a.width,height:a.height,content:a.content,selector:O.data.selector,onMouseEvent:c},new O.Icon(b),O.log("new HLF.Icon")},_createDialog:function(a,b){function c(){d.dialog=new O.Dialog(f),d.dialog.onClose=function(){d.dialog=null},d.dialog.onMouseOver=function(a){O.log(a.type+"->>>>"+a.srcElement),clearTimeout(d.timeID)},d.dialog.open(O.global.ServerUrl+O.global.coupon+O.json2Raw(e))}var d=this,e={merId:O.data.merId,pageType:O.data.pageType,clientId:O.data.clientId,goodsId:O.data.goodsId,goodsName:O.data.goodsName,categoryId:O.data.categoryId,categoryName:O.data.categoryName,isPreview:O.data.isPreview,token:O.data.token,userId:O.data.userId,time:O.data.time,isExGoodsCar:O.data.isExGoodsCar};if(!d.dialog){var f=O.extend({width:this.dialogOptions.width,height:this.dialogOptions.height,position:this.dialogOptions.position,borderColor:this.dialogOptions.borderColor,backgroundButton:this.dialogOptions.backgroundButton},b);if(3===O.data.pageType&&(f.width=b.dialogWidth,f.height=b.dialogHeight),1===b.payOrderStatus?(f.width=b.payOrderWidth,f.height=b.payOrderHeight,f.payOrderStatus=1):f.payOrderStatus=0,f.relative&&(f.relative=O(f.relative).length?f.relative:O.data.selector&&O(O.data.selector).length?O.data.selector:""),c(),1===b.payOrderStatus)var g=1,h=setInterval(function(){g++,10===g?(clearInterval(h),O(".ui-hlf-dialog-containter").css("opacity","1")):O(".ui-hlf-dialog-containter").css("opacity","0."+g)},200);O.log("new HLF.Dialog(), event:"+(a?a.type:""))}},_closeDialog:function(a){var b=this;O.log("_closeDialog() event:"+a.type);a.srcElement,a.toElement;try{b.dialog.close()}catch(c){}b.dialog=null},error:function(a){throw new Error(a)},log:function(a,b){if(O.debug){for(var c=arguments.length,d=O.formatDate()+" - "+a,e=e||O.JSON;--c>0;)"object"===O.type(b)?d+=e.stringify(b):b&&(d+=b);2===O.debug?this.divlog(d):"object"===O.type(console)&&console.log&&console.log(d)}},divlog:function(a){var b=document.getElementById("debug-log-div");b||(b=document.createElement("div"),b.id="debug-log-div",b.style.cssText="background:#fff;z-index:999999;border:1px solid #ccc;width:400px;height:300px;position:absolute;right:0;top:0;overflow-y:auto;overflow-x:hidden;",document.body.appendChild(b));var c=document.createElement("div");c.innerHTML=a,b.appendChild(c)},json2Raw:function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},isGiftSelect:function(b){if(void 0!==O.data.isGiftSelectStatus)return O.data.isGiftSelectStatus;var c={user_id:O.data.userId,client_id:O.data.clientId,sub_mer_id:O.data.merId,goodsId:O.data.goodsId,type:"jsonp"},d=O.global.ServerUrl+O.global.isGiftSelect+O.json2Raw(c);a._isGiftSelect=function(a){return O.data.isGiftSelectStatus=a.status,a.status},O.require(d,function(a){},"utf-8",!1)},postOrderInfo:function(b,c){if(5===O.data.pageType||4===O.data.pageType)return b=JSON.stringify(b),a.localStorage.setItem("orderLocalInfo",b),!0;void 0!==c&&(b=JSON.parse(b)),b.userId=O.data.userId,b.clientId=O.data.clientId,b.merId=O.data.merId,b.goodsId=O.data.goodsId;for(var d in b)b[d]=O.str_encrypt(b[d]);console.log(b);var e=O.global.ServerUrl+O.global.postOrderInfo;new O.Post(e,b,function(){O.log("post data complete.")})},_count:function(a){var b=typeof a;if("string"===b)return a.length;if("object"===b){var c=0;for(var d in a)c++;return c}return!1},str_encrypt:function(b){return b=a.escape(b)}}),function(a){a.debug=location.href.indexOf("debug=1")>-1?1:location.href.indexOf("debug=2016")>-1?2:0}(O);var va=function(a){this._init(a)};va.prototype.constructor=va,va.prototype.support=!1,va.prototype.listened=!1,va.prototype.listenFunctions=[],va.prototype._init=function(b){return a.addEventListener&&"function"==typeof a.postMessage?(this.support=!0,this.listened?void O.log("PostMessage listened:"+this.listened):void this.listener(b)):(this.support=!1,!1)},va.prototype.send=function(b,c,d){var e=JSON||O.JSON;if("object"===O.type(b))b=e.stringify(b);else if("string"!==O.type(b))return void O.error("postMessage content error");c=c||a.frames[0]||a,d=d||"*",O.log("send message: "+b);try{return c.postMessage(b,d),!0}catch(f){return O.log("ERROR: postMessage fail",f),!1}},va.prototype.listener=function(b){var c=this,e=function(a){for(var b=0,d=c.listenFunctions.length;b<d;b++){var e=c.listenFunctions[b];e.apply(O,[a.data]),O.log("listener message；"+a.data)}};b=b||d,this.listenFunctions.push(b),a.addEventListener("message",e),this.listened=!0},"undefined"!=typeof O&&(O.PostMessage=va);O.Post=function(a,b,c,d){this.initialize(a,b,c,d)};return O.Post.prototype.CON_TARGET=["_blank","_self","_parent","_top"],O.Post.prototype.ifrName="",O.Post.prototype.formName="",O.Post.prototype.ifrElement=null,O.Post.prototype.formElement=null,O.Post.prototype.hiddenElement=null,O.Post.prototype.target="",O.Post.prototype._stopCall=!1,O.Post.prototype._loaded=!1,O.Post.prototype.onComplete=d,O.Post.prototype.onFailure=d,O.Post.prototype.initialize=function(a,b,c,e){var f=O.randomChar(16);if(O.isArray(c)&&2===c.length?(this.onComplete=c[0]||d,this.onFailure=c[1]||d):(this.onComplete=c||d,this.onFailure=d),this.target=e||"POST_IFRAME_"+f,document.getElementById("HLF_post_hiddenElement"))this.hiddenElement=O("#HLF_post_hiddenElement");else{var g=document.createElement("div");g.id="HLF_post_hiddenElement",g.style="left:-10px;top:-10px;visibility:hidden;display:none;width:1px;height:1px;",document.body.appendChild(g),this.hiddenElement=O(g)}O.inArray(this.target,this.CON_TARGET)<0&&(this.ifrName=this.target,this.ifrElement=this.createIFrame(this.ifrName,"about:blank")),this.formName="POST_FORM_"+f,this.formElement=this.form(a,b);try{this.formElement.submit()}catch(h){}},O.Post.prototype.stopCall=function(){this._stopCall=!0},O.Post.prototype.createIFrame=function(b,c){var d,e=this,f=function(c){var d=this,h=d.readyState;/^(?:loaded|complete|undefined)$/.test(h)&&!e._loaded&&(O(d).unbind("readystatechange",f),O(d).unbind("load",f),O(d).unbind("error",g),e._loaded=!0,e._stopCall||e.onComplete.call(e,c,b),a.frames[b]=a[b]=null,setTimeout(function(){O(d).remove(),O(e.formElement).remove()},800))},g=function(c){var d=this;O(d).unbind("readystatechange",f),O(d).unbind("load",f),O(d).unbind("error",g),e._stopCall||e.onFailure.call(e,c,b),a.frames[b]=a[b]=null,setTimeout(function(){O(d).remove(),O(e.formElement).remove()},50)};return a[b]?a[b]:a.frames[b]?a.frames[b]:(d=O({tag:"IFRAME",name:b,id:b,src:c,style:"left:-10px;top:-10px;visibility:hidden;width:1px;height:1px;"}).appendTo(this.hiddenElement),d.css("position","absolute"),d.bind("readystatechange",f).bind("load",f).bind("error",g),a[b]=d.get(0),a[b])},O.Post.prototype.form=function(a,b){var c;if(c=O({tag:"FORM",name:this.formName,"accept-charset":"utf-8",enctype:"application/x-www-form-urlencoded",method:"Post",style:"display:none;",target:this.target,action:a}).appendTo(this.hiddenElement),O.isArray(b))for(var d=0;d<b.length;d++)for(var e in b[d])b[d].hasOwnProperty(e)&&this.input(e+"[]",b[d][e],c);else for(var f in b)if(b.hasOwnProperty(f))if(O.isArray(b[f]))for(var g=0;g<b[f].length;g++)this.input(f+"[]",b[f][g],c);else this.input(f,b[f],c);return c.get(0)},O.Post.prototype.input=function(a,b,c){return O({tag:"INPUT",type:"hidden",name:a,value:b}).appendTo(c)},"function"==typeof define&&define.amd&&define("HLF",[],function(){return O}),O});